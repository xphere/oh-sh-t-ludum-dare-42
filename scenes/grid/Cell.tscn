[gd_scene load_steps=4 format=2]

[ext_resource path="res://scenes/grid/grid.png" type="Texture" id=1]


[sub_resource type="Shader" id=1]

code = "shader_type canvas_item;
render_mode blend_mix;

uniform vec4 color : hint_color;
uniform float threshold : hint_range(0.0, 1.0) = 0.8;

void fragment() {
	vec4 pixel = texture(TEXTURE, UV);
	if (pixel.r > threshold) {
		COLOR = max(pixel, color);
	} else {
		COLOR = pixel * color;
	}
}
"

[sub_resource type="ShaderMaterial" id=2]

render_priority = 0
shader = SubResource( 1 )
shader_param/color = Color( 1, 0, 0, 1 )
shader_param/threshold = 0.8
_sections_unfolded = [ "shader_param" ]

[node name="Cell" type="NinePatchRect"]

material = SubResource( 2 )
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 6.0
margin_bottom = 6.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 2
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 1
texture = ExtResource( 1 )
region_rect = Rect2( 8, 1, 6, 6 )
_sections_unfolded = [ "Material" ]


